<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Novora</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root{
      --bg: #f7f8fa;
      --card: #fff;
      --text: #0f172a;
      --muted: #64748b;
      --border: #e5e7eb;
      --ring: rgba(59,130,246,.35);
      --shadow: 0 6px 20px rgba(2,6,23,.08), 0 1px 2px rgba(2,6,23,.06);
    }
    @media (prefers-color-scheme: dark){
      :root{
        --bg: #0b1020;
        --card: #0f162e;
        --text: #e6e9f3;
        --muted: #97a2b8;
        --border: #1e2a45;
        --ring: rgba(147,197,253,.35);
        --shadow: 0 8px 28px rgba(0,0,0,.35), 0 1px 2px rgba(0,0,0,.25);
      }
    }

    /* ★ ウィンドウに追従させる基本形 */
    html, body { height: 100%; }
    body {
      margin:0;
      font: 15px/1.55 ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Hiragino Kaku Gothic ProN", "Noto Sans JP", sans-serif;
      width: 100%;                 /* ← 固定幅をやめる */
      background: var(--bg);
      color: var(--text);

      display: flex;               /* ← 縦フレックス */
      flex-direction: column;
      overflow: hidden;            /* ← 外側はスクロールしない */
    }

    /* ヘッダー */
    header {
      display:flex; align-items:center; gap:10px;
      padding:10px 14px;
      backdrop-filter: saturate(140%) blur(6px);
      background: linear-gradient(0deg, rgba(0,0,0,0) 0%, rgba(127,127,127,0.08) 100%);
      border-bottom: 1px solid var(--border);
      flex: 0 0 auto;              /* ← 高さ固定 */
    }
    header .brand{ display:flex; align-items:center; gap:10px; font-weight:700; letter-spacing:.2px; }
    header .brand .logo{ font-size:18px; }

    #refresh{
      margin-left:auto;
      padding:8px 12px; border-radius:12px; border:1px solid var(--border);
      background: var(--card); color: var(--text);
      font-weight:600; cursor:pointer;
      box-shadow: 0 1px 0 rgba(255,255,255,.15) inset;
      transition: transform .08s ease, box-shadow .2s ease, border-color .2s ease;
    }
    #refresh:hover{ box-shadow: var(--shadow); }
    #refresh:active{ transform: translateY(1px) scale(.99); }
    #refresh:focus-visible{ outline: 2px solid var(--ring); outline-offset: 2px; }

    /* ★ リスト領域だけスクロール */
    ul#list{
      list-style:none; margin:0; padding:12px;
      overflow: auto;              /* ← 唯一のスクロール */
      flex: 1 1 auto;              /* ← 余白を全部使う */
      min-height: 0;               /* ← Flex 子のはみ出し防止 */
      display:grid; gap:10px;

      /* 以前の max-height は削除 */
      /* max-height: 640px; ❌ */
    }

    /* スクロールバー（任意） */
    ul#list::-webkit-scrollbar{ width:10px; }
    ul#list::-webkit-scrollbar-thumb{ background:var(--border); border-radius:999px; }
    ul#list::-webkit-scrollbar-track{ background:transparent; }

    /* カード */
    li{
      border:1px solid var(--border);
      background: var(--card);
      border-radius:16px;
      padding:12px 14px;
      transition: transform .08s ease, box-shadow .2s ease, border-color .2s ease, background .2s ease;
    }
    a{ color:inherit; text-decoration:none; display:block; }
    .title{ font-weight:700; font-size:15.5px; margin-bottom:6px; letter-spacing:.2px; }
    .meta{ font-size:12.5px; color:var(--muted); display:flex; align-items:center; gap:8px; }
    .source{ padding:2px 8px; border:1px solid var(--border); border-radius:999px; background: rgba(127,127,127,.06); font-weight:600; letter-spacing:.2px; }
    .stamp{ margin-left:auto; font-variant-numeric: tabular-nums; }

    li:hover{ box-shadow: var(--shadow); transform: translateY(-1px); }
    li:hover .title{ text-decoration:underline; }

    .empty{
      margin: 10px 14px; padding:16px 12px; color:var(--muted);
      border:1px dashed var(--border); border-radius:12px; text-align:center;
    }

    /* フッター */
    footer{
      padding:8px 14px; font-size:12.5px; color:var(--muted);
      text-align:right; border-top:1px solid var(--border);
      background: linear-gradient(180deg, rgba(127,127,127,0.05) 0%, rgba(0,0,0,0) 100%);
      backdrop-filter: saturate(120%) blur(4px);
      flex: 0 0 auto;              /* ← 高さ固定 */
    }
  </style>
</head>
<body>
  <header>
    <div class="brand">
      <span class="logo">📰</span>
      <span>Novora</span>
    </div>
    <button id="refresh" title="すぐ更新">Refresh</button>
  </header>

  <ul id="list"></ul>

  <footer id="foot"></footer>

  <script src="popup.js"></script>
</body>
</html>
